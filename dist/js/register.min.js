"use strict";$(".email_register").click(function(){var e=$("<input type='text' name='email' placeholder='请输入邮箱'>");$("input[name='phone']").replaceWith(e),$(".email_register").addClass("check").prev().removeClass("check")}),$(".phone_register").click(function(){var e=$("<input type='text' name='phone' placeholder='请输入手机号'>");$("input[name='email']").replaceWith(e),$(".phone_register").addClass("check").next().removeClass("check")}),$("button").click(function(){var e=$("input[name='china']").val(),a=$("input[name='password']").val(),n=$("input[name='repassword']").val(),t=$("input[name='time']").val(),i=null;if(""===e)return layer.msg("国家或地区不能为空"),!1;if(console.log($("input[name='phone']").length),0<$("input[name='phone']").length){if(""===$("input[name='phone']").val())return layer.msg("手机号不能为空"),!1;if(!/^1[3456789]\d{9}$/.test($("input[name='phone']").val()))return layer.msg("手机号格式错误"),!1;i=$("input[name='phone']").val()}else{if(""===$("input[name='email']").val())return layer.msg("邮箱不能为空"),!1;if(!/^[123456789]\d{4,9}@qq\.com$/.test($("input[name='email']").val()))return layer.msg("邮箱格式错误"),!1;i=$("input[name='email']").val()}return""===a?(layer.msg("密码不能为空"),!1):/^.{6,16}$/.test(a)?""===n?(layer.msg("重复密码不能为空"),!1):n!==a?(layer.msg("两次密码输入不一致"),!1):void $.ajax({type:"post",url:"http://localhost/huaweishangcheng/src/php/register.php",data:{china:e,psd:a,name:i,birthday:t},dataType:"json",success:function(e){var a=e.meta,n=a.status,t=a.message;if(layer.msg(t),1===n)setTimeout(function(){location.href="http://localhost/huaweishangcheng/src/login.html"},1500);else if(2===n)return!1}}):(layer.msg("密码长度或格式错误"),!1)});