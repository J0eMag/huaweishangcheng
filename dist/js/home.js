"use strict";var shadows=document.querySelectorAll(".shadow"),goods_list_one=document.querySelector(".major-goods>div>div"),lbtn=document.querySelector(".lbtn"),rbtn=document.querySelector(".rbtn"),goods_list_two=document.querySelector("#two"),llbtn=document.querySelector(".llbtn"),rrbtn=document.querySelector(".rrbtn"),show_imgs=document.querySelectorAll(".show_img"),show_lbtn=document.querySelector(".show_lbtn"),show_rbtn=document.querySelector(".show_rbtn"),show_pointers=document.querySelectorAll(".show_pointer>li"),hovers=document.querySelectorAll(".list"),auto_new=document.querySelector(".auto_news"),inp=document.querySelector("input.none"),sls=document.querySelectorAll(".sls"),s_btns=document.querySelectorAll(".s_btn"),s_imgs=document.querySelectorAll(".s_img"),show_list=document.querySelectorAll(".list-nav>li"),second_list_box=document.querySelector("#second_list_box"),goods_box_heads=document.querySelectorAll(".goods_box_head"),top_banner=document.querySelector(".top-banner>a:nth-child(2)"),last_top=document.querySelector("#last_top"),cart_btn=document.querySelector(".cart_btn"),fixed_list=document.querySelector(".fixed_list"),gk=0,ggk=0,sk=0,nk=0,flag=!0,newInterval=null;function boxPromiseAjax(o,s,i,r){var c=4<arguments.length&&void 0!==arguments[4]?arguments[4]:290,t=5<arguments.length&&void 0!==arguments[5]?arguments[5]:"http://localhost/huaweishangcheng/src/php/goods_box.php";promiseAjax({url:t,data:{id:o}}).then(function(o){var t=document.createElement("div"),e="<img src="+s+' class="one"></img>';t.className="wrap",setStyle(t,{display:"flex",flexWrap:"wrap",justifyContent:"space-between"});for(var n=0;n<o.length;n++)e+='\n            <div class="smallbox" index='+o[n].id+">\n            <img src="+o[n].url+">\n            <p>"+o[n].name+"</p>\n            <p>"+o[n].tip+"</p>\n            <p>￥"+o[n].price+"</p>\n            </div>\n            ";t.innerHTML=e,document.body.insertBefore(t,i),t.querySelectorAll("div").forEach(function(o){setStyle(o,{width:"230px",height:"290px",backgroundColor:"#eee",borderRadius:"10px",textAlign:"center",lineHeight:"25px",marginBottom:"10px",cursor:"pointer"}),o.onclick=function(){window.open("http://localhost//huaweishangcheng/src/details.html?id="+o.getAttribute("index"))}}),t.querySelectorAll(".smallbox img").forEach(function(o){setStyle(o,{display:"inline-block",height:"150px",width:"150px",marginTop:"30px",marginBottom:"15px"})});var l=t.querySelector(".one");setStyle(l,{width:r+"px",height:c+"px",borderRadius:"10px"}),t.querySelectorAll("div>p:nth-child(2)").forEach(function(o){setStyle(o,{fontSize:"14px"})}),t.querySelectorAll("div>p:nth-child(3)").forEach(function(o){setStyle(o,{fontSize:"12px",color:"#777"})}),t.querySelectorAll("div>p:nth-child(4)").forEach(function(o){setStyle(o,{fontSize:"12px",color:"red"})})})}document.cookie&&($(".login_li").text("您好"),$(".name_li").text(document.cookie.slice(5).slice(0,2)+"**"),$(".login_p").text("欢迎您,"+document.cookie.slice(5).slice(0,2)+"**"),$out=$("<li></li>"),$out.text("退出"),$(".login_li").before($out),$(".login_li").prev().click(function(){var o=this;layer.confirm("您确定要退出吗？",{icon:5,skin:"layui-layer-lan",btn:["残忍离开","再逛逛"]},function(){removeCookie("name"),$(".login_li").html("<a href='http://localhost/huaweishangcheng/src/login.html'>登录</a>"),$(".name_li").html("<a href='http://localhost/huaweishangcheng/src/register.html'>注册</a>"),$(".login_p").html('您好，请<a href="http://localhost/huaweishangcheng/src/login.html">登录 </a><span> / </span><a href="http://localhost/huaweishangcheng/src/register.html">注册</a>'),$(o).remove(),parent.layer.closeAll()},function(){parent.layer.closeAll()})})),shadows.forEach(function(o){o.onmouseout=function(){o.style.transition="0.5s"}}),top_banner.onclick=function(){this.parentElement.remove(),document.querySelector(".user").style.top="100px"},promiseAjax({url:"http://localhost/huaweishangcheng/src/php/goods_list_one.php",data:{id:1}}).then(function(o){for(var t=0;t<o.length;t++)goods_list_one.innerHTML+="\n        <div>\n        <img src="+o[t].url+">\n        <p>"+o[t].tip+"</p>\n        <p>"+o[t].name+"</p>\n        <p>￥"+o[t].price+"</p>\n        </div>\n        ";for(var e=goods_list_one.querySelectorAll("div"),n=0,l=0;l<e.length;l++)setStyle(e[l],{width:"230px",height:"295px",float:"left",backgroundColor:"#fff",margin:"0 2px",borderRadius:"10px",position:"absolute",top:0,left:n+"px",textAlign:"center"}),n+=240;goods_list_one.querySelectorAll("img").forEach(function(o){setStyle(o,{width:"150px",height:"150px",marginTop:"36px",marginBottom:"10px"})}),goods_list_one.querySelectorAll("div>p:nth-child(2)").forEach(function(o){setStyle(o,{width:"100%",fontSize:"14px",backgroundColor:"#eee",color:"#777",height:"30px",lineHeight:"30px",borderBottomLeftRadius:"10px",borderBottomRightRadius:"10px"})}),goods_list_one.querySelectorAll("div>p:nth-child(3)").forEach(function(o){setStyle(o,{width:"100%",fontSize:"14px",height:"30px",lineHeight:"30px"})}),goods_list_one.querySelectorAll("div>p:nth-child(4)").forEach(function(o){setStyle(o,{width:"100%",fontSize:"12px",color:"red",height:"15px",lineHeight:"15px"})})}),0===gk&&(lbtn.style.display="none"),rbtn.onclick=function(){if(!flag)return!1;flag=!1,lbtn.style.display="block",gk++,goods_list_one.style.left=-1200*gk+"px",3===gk&&(rbtn.style.display="none"),setTimeout(function(){flag=!0},500)},lbtn.onclick=function(){if(!flag)return!1;flag=!1,rbtn.style.display="block",gk--,goods_list_one.style.left=-1200*gk+"px",0===gk&&(lbtn.style.display="none"),setTimeout(function(){flag=!0},500)},show_rbtn.onclick=function(){sk++;for(var o=0;o<show_pointers.length;o++)show_pointers[o].className="",show_imgs[o].style.opacity="0";3===sk&&(sk=0),show_pointers[sk].className="active",show_imgs[sk].style.opacity="1"},show_lbtn.onclick=function(){sk--;for(var o=0;o<show_pointers.length;o++)show_pointers[o].className="",show_imgs[o].style.opacity="0";-1===sk&&(sk=2),show_pointers[sk].className="active",show_imgs[sk].style.opacity="1"};for(var num=0;num<show_pointers.length;num++)show_pointers[num].index=num;show_pointers.forEach(function(t){t.onmouseover=function(){sk=t.index;for(var o=0;o<show_pointers.length;o++)show_pointers[o].className="",show_imgs[o].style.opacity="0";show_pointers[sk].className="active",show_imgs[sk].style.opacity="1"}}),newInterval=setInterval(function(){sk++;for(var o=0;o<show_pointers.length;o++)show_pointers[o].className="",show_imgs[o].style.opacity="0";3===sk&&(sk=0),show_pointers[sk].className="active",show_imgs[sk].style.opacity="1"},2500),hovers.forEach(function(o){o.onmouseover=function(){o.childNodes[1].style.display="block"},o.onmouseout=function(){o.childNodes[1].style.display="none"}}),setInterval(function(){nk++,auto_new.style.top=23*-nk+"px",3===nk&&(nk=0,auto_new.style.top=23*-nk+"px")},2e3),inp.onfocus=function(){sls.forEach(function(o){o.style.display="none"})},inp.onblur=function(){sls.forEach(function(o){o.style.display="block"})};for(var _loop=function(t){s_btns[t].onmouseover=function(){for(var o=0;o<s_btns.length;o++)s_btns[o].id="",s_imgs[o].style.opacity="0";s_btns[t].id="active_btn",s_imgs[t].style.opacity="1"}},i=0;i<s_btns.length;i++)_loop(i);var _loop2=function(o){show_list[o-1].onmouseover=function(){second_list_box.style.display="flex",promiseAjax({url:"http://localhost/huaweishangcheng/src/php/second_list.php",data:{id:o}}).then(function(o){for(var t="",e=0;e<o.length;e++)t+="\n                <li>\n                <img src="+o[e].url+">\n                <span>"+o[e].name+"</span>\n                </li>\n                ";second_list_box.innerHTML=t;var n=second_list_box.querySelectorAll("img"),l=second_list_box.querySelectorAll("li");n.forEach(function(o){setStyle(o,{width:"48px",height:"48px",marginTop:"5px",float:"left",marginRight:"20px",marginLeft:"30px"})}),l.forEach(function(o){setStyle(o,{width:"230px",height:"60px",margin:"14px 10px",borderRadius:"10px"}),o.onmouseover=function(){o.style.backgroundColor="#eee"},o.onmouseout=function(){o.style.backgroundColor="transparent"}}),second_list_box.style.width=250*Math.ceil(o.length/5)+"px"})},second_list_box.onmouseover=function(){second_list_box.style.display="flex"},show_list[o-1].onmouseout=second_list_box.onmouseout=function(){second_list_box.style.display="none"}};for(i=1;i<=show_list.length;i++)_loop2(i);promiseAjax({url:"http://localhost/huaweishangcheng/src/php/goods_list_one.php",data:{id:2}}).then(function(o){for(var t=0;t<o.length;t++)goods_list_two.innerHTML+="\n        <div>\n        <img src="+o[t].url+">\n        <p>"+o[t].tip+"</p>\n        <p>"+o[t].name+"</p>\n        <p>￥"+o[t].price+"</p>\n        </div>\n        ";for(var e=goods_list_two.querySelectorAll("div"),n=0,l=0;l<e.length;l++)setStyle(e[l],{width:"230px",height:"295px",float:"left",backgroundColor:"#fff",margin:"0 2px",borderRadius:"10px",position:"absolute",top:0,left:n+"px",textAlign:"center"}),n+=240;goods_list_two.querySelectorAll("img").forEach(function(o){setStyle(o,{width:"150px",height:"150px",marginTop:"36px",marginBottom:"10px"})}),goods_list_two.querySelectorAll("div>p:nth-child(2)").forEach(function(o){setStyle(o,{width:"100%",fontSize:"14px",backgroundColor:"#eee",color:"#777",height:"30px",lineHeight:"30px",borderBottomLeftRadius:"10px",borderBottomRightRadius:"10px"})}),goods_list_two.querySelectorAll("div>p:nth-child(3)").forEach(function(o){setStyle(o,{width:"100%",fontSize:"14px",height:"30px",lineHeight:"30px"})}),goods_list_two.querySelectorAll("div>p:nth-child(4)").forEach(function(o){setStyle(o,{width:"100%",fontSize:"12px",color:"red",height:"15px",lineHeight:"15px"})})}),0===ggk&&(llbtn.style.display="none"),rrbtn.onclick=function(){if(!flag)return!1;flag=!1,llbtn.style.display="block",gk++,goods_list_two.style.left=-1200*gk+"px",2===gk&&(rrbtn.style.display="none"),setTimeout(function(){flag=!0},500)},llbtn.onclick=function(){if(!flag)return!1;flag=!1,rrbtn.style.display="block",gk--,goods_list_two.style.left=-1200*gk+"px",0===gk&&(llbtn.style.display="none"),setTimeout(function(){flag=!0},500)},boxPromiseAjax(1,"https://res0.vmallres.com/pimages//frontLocation/content/96008994561619980069.png",goods_box_heads[1],230),boxPromiseAjax(2,"https://res0.vmallres.com/pimages//frontLocation/content/11119171251617191111.jpg",goods_list_two.parentElement.parentElement,472),boxPromiseAjax(3,"https://res0.vmallres.com/pimages//frontLocation/content/10236136851613163201.png",goods_box_heads[3],472),boxPromiseAjax(4,"https://res0.vmallres.com/pimages//frontLocation/content/92567261481616276529.png",goods_box_heads[4],472),boxPromiseAjax(5,"https://res0.vmallres.com/pimages//frontLocation/content/06556351711615365560.png",goods_box_heads[5],230),boxPromiseAjax(6,"https://res0.vmallres.com/pimages//frontLocation/content/96394395800619349369.jpg",goods_box_heads[6],230),boxPromiseAjax(7,"https://res0.vmallres.com/pimages//frontLocation/content/44589709871610798544.jpg",active_img,472),boxPromiseAjax(8,"https://res0.vmallres.com/pimages//frontLocation/content/29291553581615519292.png",goods_box_heads[8],472),boxPromiseAjax(9,"https://res0.vmallres.com/pimages//frontLocation/content/41067571391617576014.jpg",goods_box_heads[9],472),boxPromiseAjax(10,"https://res0.vmallres.com/pimages//frontLocation/content/35728252881615282753.png",active_img2,472),window.onscroll=function(){600<=document.documentElement.scrollTop?last_top.style.display="block":last_top.style.display="none",2e3<=document.documentElement.scrollTop?fixed_list.style.display="block":fixed_list.style.display="none"},last_top.onclick=function(){var o=setInterval(function(){document.documentElement.scrollTop-=100,document.documentElement.scrollTop<=0&&clearInterval(o)},1)},cart_btn.onclick=function(){location.href="http://localhost/huaweishangcheng/src/cart.html"},$(".list-nav>li").click(function(){if(13==$(this).index())return!1;window.open("http://localhost//huaweishangcheng/src/list.html?id="+$(this).index())}),$(".fixed_list").on("click","li",function(){0==$(this).index()?$("html,body").animate({scrollTop:2520},500):1==$(this).index()?$("html,body").animate({scrollTop:3480},500):2==$(this).index()?$("html,body").animate({scrollTop:4160},500):3==$(this).index()?$("html,body").animate({scrollTop:4840},500):4==$(this).index()?$("html,body").animate({scrollTop:5500},500):5==$(this).index()?$("html,body").animate({scrollTop:6170},500):6==$(this).index()?$("html,body").animate({scrollTop:7e3},500):7==$(this).index()?$("html,body").animate({scrollTop:7670},500):8==$(this).index()&&$("html,body").animate({scrollTop:8350},500)});